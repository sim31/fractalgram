{"version":3,"sources":["webpack:///./src/components/common/TrackingMonkey.tsx","webpack:///./src/components/auth/AuthCode.tsx","webpack:///./src/components/auth/AuthPassword.tsx","webpack:///./src/components/auth/AuthRegister.tsx","webpack:///./node_modules/qr-creator/dist/qr-creator.es6.min.js","webpack:///./src/components/auth/AuthQrCode.tsx","webpack:///./src/components/ui/Modal.tsx","webpack:///./src/util/trapFocus.ts","webpack:///./src/components/common/AnimatedSticker.tsx","webpack:///./src/hooks/useHistoryBack.ts","webpack:///./src/components/ui/Portal.ts","webpack:///./src/components/common/helpers/animatedAssets.ts","webpack:///./src/assets/TwoFactorSetupMonkeyIdle.tgs","webpack:///./src/assets/TwoFactorSetupMonkeyTracking.tgs","webpack:///./src/assets/TwoFactorSetupMonkeyClose.tgs","webpack:///./src/assets/TwoFactorSetupMonkeyPeek.tgs","webpack:///./src/assets/FoldersAll.tgs","webpack:///./src/assets/FoldersNew.tgs","webpack:///./src/assets/DiscussionGroupsDucks.tgs","webpack:///./src/components/ui/CropModal.tsx","webpack:///./src/components/ui/AvatarEditable.tsx","webpack:///./src/hooks/useBackgroundMode.ts","webpack:///./src/components/common/PasswordMonkey.tsx","webpack:///./src/components/common/PasswordForm.tsx"],"names":["STICKER_SIZE","IS_MOBILE_SCREEN","STICKER_SIZE_AUTH_MOBILE","STICKER_SIZE_AUTH","memo","code","codeLength","trackingDirection","isTracking","isBig","idleMonkeyData","setIdleMonkeyData","useState","trackingMonkeyData","setTrackingMonkeyData","isFirstMonkeyLoaded","setIsFirstMonkeyLoaded","TRACKING_FRAMES_PER_SYMBOL","useEffect","getAnimationData","then","handleFirstMonkeyLoad","useCallback","id","className","AnimatedSticker","size","STICKER_SIZE_TWO_FA","undefined","animationData","play","onLoad","playSegment","startFrame","length","endFrame","getTrackingFrames","speed","noLoop","withGlobal","global","pick","setGlobal","actions","authPhoneNumber","authIsCodeViaApp","authIsLoading","authError","setAuthCode","returnToAuthPhoneNumber","clearAuthError","setShouldSkipUiLoaderTransition","inputRef","useRef","setCode","setIsTracking","setTrackingDirection","IS_TOUCH_ENV","current","focus","useHistoryBack","event","noAnimation","shouldSkipUiLoaderTransition","onCodeChange","e","currentTarget","target","value","replace","substr","onClick","HistoryWrapper","back","role","tabIndex","title","InputText","ref","label","onInput","error","autoComplete","inputMode","Loading","authHint","setAuthPassword","showPassword","setShowPassword","handleChangePasswordVisibility","isVisible","handleSubmit","password","isPasswordVisible","PasswordForm","clearError","hint","isLoading","onChangePasswordVisibility","onSubmit","signUp","uploadProfilePhoto","isButtonShown","setIsButtonShown","croppedFile","setCroppedFile","firstName","setFirstName","lastName","setLastName","action","method","preventDefault","file","AvatarEditable","onChange","Button","type","ripple","G","H","render","w","B","self","QrCreator","t","c","a","b","h","u","J","r","d","text","level","version","O","C","g","x","f","lineTo","arcTo","moveTo","z","y","v","N","K","P","Math","max","min","getContext","background","fillStyle","fillRect","left","top","beginPath","p","q","k","m","D","E","n","l","floor","R","I","F","round","fill","colorStops","position","map","createLinearGradient","apply","Error","createRadialGradient","forEach","addColorStop","A","minVersion","maxVersion","ecLevel","radius","quiet","Object","assign","HTMLCanvasElement","width","height","clearRect","document","createElement","appendChild","Array","put","push","write","j","o","s","S","multiply","i","charCodeAt","L","M","Q","abs","connectionState","authQrCode","qrCodeRef","container","innerHTML","classList","remove","token","buildClassName","isText","Modal","props","isOpen","header","hasCloseButton","noBackdrop","children","onClose","onCloseAnimationEnd","onEnter","isClosedWithHistory","setIsClosedWithHistory","noAnimations","setNoAnimations","isFirstRender","setIsFirstRender","shouldRender","transitionClassNames","useShowTransition","modalRef","captureKeyboardListeners","onEsc","element","handleKeyDown","key","stopPropagation","focusableElements","from","querySelectorAll","currentFocusedIndex","findIndex","em","isSameNode","activeElement","newFocusedIndex","shiftKey","addEventListener","removeEventListener","trapFocus","previousHistoryState","setTimeout","useOnChange","pushState","useEffectWithPrevDeps","prevIsOpen","body","toggle","dispatchHeavyAnimationEvent","lang","useLang","fullClassName","Portal","color","ariaLabel","lottiePromise","RLottie","async","ensureLottie","default","quality","isLowPriority","animation","setAnimation","wasPlaying","isFrozen","playRef","playSegmentRef","exec","newAnimation","setSpeed","fastRaf","destroy","playAnimation","shouldRestart","goToAndPlay","pauseAnimation","pause","freezeAnimation","isPlaying","unfreezeAnimation","unfreezeAnimationOnRaf","useHeavyAnimationCheck","useBackgroundMode","style","isEdge","onTouchStart","touches","pageX","window","innerWidth","onTouchEnd","handler","onPopState","isHistoryChangedByUser","states","IS_IOS","console","log","containerId","elementRef","useLayoutEffect","querySelector","add","TeactDOM","removeChild","ANIMATED_STICKERS_PATHS","MonkeyIdle","MonkeyTracking","MonkeyClose","MonkeyPeek","FoldersAll","FoldersNew","DiscussionGroups","name","path","location","origin","mediaLoader","ApiMediaFormat","Lottie","cropperResultOptions","format","circle","Croppie","croppiePromise","cropper","isCroppieReady","setIsCroppieReady","imgFile","cropContainer","getElementById","offsetWidth","offsetHeight","enableZoom","boundary","viewport","dataUri","blobToDataUri","bind","url","err","DEBUG","initCropper","ensureCroppie","Boolean","result","croppedImg","blobToFile","disabled","currentAvatarBlobUrl","selectedFile","setSelectedFile","croppedBlobUrl","setCroppedBlobUrl","labelClassName","files","accept","src","alt","URL","revokeObjectURL","createObjectURL","onBlur","onFocus","hasFocus","SEGMENT_COVER_EYES","SEGMENT_UNCOVER_EYE","SEGMENT_COVER_EYE","closeMonkeyData","setCloseMonkeyData","peekMonkeyData","setPeekMonkeyData","isPeekShown","setIsPeekShown","FOCUS_DELAY_TIMEOUT_MS","placeholder","submitLabel","onInputChange","setPassword","canSubmit","setCanSubmit","requestAnimationFrame","select","dir","isRtl","MIN_PASSWORD_LENGTH"],"mappings":"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AAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,GAAG,EAAE,IAAI,IAAI,CAAC,EAAE,GACnf,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,IAAI,CAAC,EACrf,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,EAAE,IAAI,KAChf,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,EAAE,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,EAAE,IAAI,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAClf,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,IAAI,IAAI,GAAG,IAAI,KAAK,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,GAAG,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,EAAE,GA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","file":"5.4cf6b0c1d4d25ba708d7.js","sourcesContent":["import React, {\n  FC, useState, useEffect, useCallback, memo,\n} from '../../lib/teact/teact';\n\nimport { STICKER_SIZE_AUTH, STICKER_SIZE_AUTH_MOBILE, STICKER_SIZE_TWO_FA } from '../../config';\nimport { IS_MOBILE_SCREEN } from '../../util/environment';\nimport getAnimationData from './helpers/animatedAssets';\n\nimport AnimatedSticker from './AnimatedSticker';\n\nimport './PasswordMonkey.scss';\n\ntype OwnProps = {\n  code: string;\n  codeLength: number;\n  trackingDirection: number;\n  isTracking: boolean;\n  isBig?: boolean;\n};\n\nconst TRACKING_START_FRAME = 15;\nconst TRACKING_END_FRAME = 180;\nconst STICKER_SIZE = IS_MOBILE_SCREEN ? STICKER_SIZE_AUTH_MOBILE : STICKER_SIZE_AUTH;\n\nconst TrackingMonkey: FC<OwnProps> = ({\n  code,\n  codeLength,\n  trackingDirection,\n  isTracking,\n  isBig,\n}) => {\n  const [idleMonkeyData, setIdleMonkeyData] = useState<Record<string, any>>();\n  const [trackingMonkeyData, setTrackingMonkeyData] = useState<Record<string, any>>();\n  const [isFirstMonkeyLoaded, setIsFirstMonkeyLoaded] = useState(false);\n  const TRACKING_FRAMES_PER_SYMBOL = (TRACKING_END_FRAME - TRACKING_START_FRAME) / codeLength;\n\n  useEffect(() => {\n    if (!idleMonkeyData) {\n      getAnimationData('MonkeyIdle').then(setIdleMonkeyData);\n    }\n  }, [idleMonkeyData]);\n\n  useEffect(() => {\n    if (!trackingMonkeyData) {\n      getAnimationData('MonkeyTracking').then(setTrackingMonkeyData);\n    }\n  }, [trackingMonkeyData]);\n\n  const handleFirstMonkeyLoad = useCallback(() => setIsFirstMonkeyLoaded(true), []);\n\n  function getTrackingFrames(): [number, number] {\n    const startFrame = (code && code.length > 1) || trackingDirection < 0\n      ? TRACKING_START_FRAME + TRACKING_FRAMES_PER_SYMBOL * (code.length - 1)\n      : 0;\n    const endFrame = code.length === codeLength\n      ? TRACKING_END_FRAME\n      : TRACKING_START_FRAME + TRACKING_FRAMES_PER_SYMBOL * code.length;\n\n    if (trackingDirection < 1) {\n      return [\n        endFrame,\n        startFrame,\n      ];\n    }\n\n    return [\n      startFrame,\n      endFrame,\n    ];\n  }\n\n  return (\n    <div id=\"monkey\" className={isBig ? 'big' : ''}>\n      {!isFirstMonkeyLoaded && (\n        <div className=\"monkey-preview\" />\n      )}\n      {idleMonkeyData && (\n        <AnimatedSticker\n          id=\"idleMonkey\"\n          size={isBig ? STICKER_SIZE_TWO_FA : STICKER_SIZE}\n          className={isTracking ? 'hidden' : undefined}\n          animationData={idleMonkeyData}\n          play={!isTracking}\n          onLoad={handleFirstMonkeyLoad}\n        />\n      )}\n      {trackingMonkeyData && (\n        <AnimatedSticker\n          id=\"trackingMonkey\"\n          size={isBig ? STICKER_SIZE_TWO_FA : STICKER_SIZE}\n          className={!isTracking ? 'hidden' : 'shown'}\n          animationData={trackingMonkeyData}\n          playSegment={isTracking ? getTrackingFrames() : undefined}\n          speed={2}\n          noLoop\n        />\n      )}\n    </div>\n  );\n};\n\nexport default memo(TrackingMonkey);\n","import { FormEvent } from 'react';\nimport React, {\n  FC, useState, useEffect, useCallback, memo, useRef,\n} from '../../lib/teact/teact';\nimport { withGlobal } from '../../lib/teact/teactn';\nimport { GlobalState, GlobalActions } from '../../global/types';\n\nimport { IS_TOUCH_ENV } from '../../util/environment';\nimport { pick } from '../../util/iteratees';\n\nimport InputText from '../ui/InputText';\nimport Loading from '../ui/Loading';\nimport TrackingMonkey from '../common/TrackingMonkey';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport { HistoryWrapper } from '../../util/history';\n\ntype StateProps = Pick<GlobalState, 'authPhoneNumber' | 'authIsCodeViaApp' | 'authIsLoading' | 'authError'>;\ntype DispatchProps = Pick<GlobalActions, (\n  'setAuthCode' | 'returnToAuthPhoneNumber' | 'clearAuthError' | 'setShouldSkipUiLoaderTransition'\n)>;\n\nconst CODE_LENGTH = 5;\n\nconst AuthCode: FC<StateProps & DispatchProps> = ({\n  authPhoneNumber,\n  authIsCodeViaApp,\n  authIsLoading,\n  authError,\n  setAuthCode,\n  returnToAuthPhoneNumber,\n  clearAuthError,\n  setShouldSkipUiLoaderTransition,\n}) => {\n  // eslint-disable-next-line no-null/no-null\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const [code, setCode] = useState<string>('');\n  const [isTracking, setIsTracking] = useState(false);\n  const [trackingDirection, setTrackingDirection] = useState(1);\n\n  useEffect(() => {\n    if (!IS_TOUCH_ENV) {\n      inputRef.current!.focus();\n    }\n  }, []);\n\n  const handleBackToPhoneNumber = () => {\n    returnToAuthPhoneNumber();\n    HistoryWrapper.back();\n  };\n\n  useHistoryBack((event, noAnimation) => {\n    setShouldSkipUiLoaderTransition({ shouldSkipUiLoaderTransition: noAnimation });\n    returnToAuthPhoneNumber();\n  });\n\n  const onCodeChange = useCallback((e: FormEvent<HTMLInputElement>) => {\n    if (authError) {\n      clearAuthError();\n    }\n\n    const { currentTarget: target } = e;\n    target.value = target.value.replace(/[^\\d]+/, '').substr(0, CODE_LENGTH);\n\n    if (target.value === code) {\n      return;\n    }\n\n    setCode(target.value);\n\n    if (!isTracking) {\n      setIsTracking(true);\n    } else if (!target.value.length) {\n      setIsTracking(false);\n    }\n\n    if (code && code.length > target.value.length) {\n      setTrackingDirection(-1);\n    } else {\n      setTrackingDirection(1);\n    }\n\n    if (target.value.length === CODE_LENGTH) {\n      setAuthCode({ code: target.value });\n    }\n  }, [authError, clearAuthError, code, isTracking, setAuthCode]);\n\n  return (\n    <div id=\"auth-code-form\" className=\"custom-scroll\">\n      <div className=\"auth-form\">\n        <TrackingMonkey\n          code={code}\n          codeLength={CODE_LENGTH}\n          isTracking={isTracking}\n          trackingDirection={trackingDirection}\n        />\n        <h2>\n          {authPhoneNumber}\n          <div\n            className=\"auth-number-edit\"\n            onClick={handleBackToPhoneNumber}\n            role=\"button\"\n            tabIndex={0}\n            title=\"Sign In with another phone number\"\n          >\n            <i className=\"icon-edit\" />\n          </div>\n        </h2>\n        <p className=\"note\">\n          {authIsCodeViaApp ? (\n            <>\n              We have sent the code to the Telegram app\n              <br />on your other device.\n            </>\n          ) : (\n            <>\n              We have sent you an SMS\n              <br />with the code.\n            </>\n          )}\n        </p>\n        <InputText\n          ref={inputRef}\n          id=\"sign-in-code\"\n          label=\"Code\"\n          onInput={onCodeChange}\n          value={code}\n          error={authError}\n          autoComplete=\"off\"\n          inputMode=\"decimal\"\n        />\n        {authIsLoading && <Loading />}\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => pick(global, ['authPhoneNumber', 'authIsCodeViaApp', 'authIsLoading', 'authError']),\n  (setGlobal, actions): DispatchProps => pick(actions, [\n    'setAuthCode',\n    'returnToAuthPhoneNumber',\n    'clearAuthError',\n    'setShouldSkipUiLoaderTransition',\n  ]),\n)(AuthCode));\n","import React, {\n  FC, memo, useCallback, useState,\n} from '../../lib/teact/teact';\nimport { withGlobal } from '../../lib/teact/teactn';\n\nimport { GlobalState, GlobalActions } from '../../global/types';\n\nimport { pick } from '../../util/iteratees';\n\nimport MonkeyPassword from '../common/PasswordMonkey';\nimport PasswordForm from '../common/PasswordForm';\n\ntype StateProps = Pick<GlobalState, 'authIsLoading' | 'authError' | 'authHint'>;\ntype DispatchProps = Pick<GlobalActions, 'setAuthPassword' | 'clearAuthError'>;\n\nconst AuthPassword: FC<StateProps & DispatchProps> = ({\n  authIsLoading, authError, authHint, setAuthPassword, clearAuthError,\n}) => {\n  const [showPassword, setShowPassword] = useState(false);\n\n  const handleChangePasswordVisibility = useCallback((isVisible) => {\n    setShowPassword(isVisible);\n  }, []);\n\n  const handleSubmit = useCallback((password: string) => {\n    setAuthPassword({ password });\n  }, [setAuthPassword]);\n\n  return (\n    <div id=\"auth-password-form\" className=\"custom-scroll\">\n      <div className=\"auth-form\">\n        <MonkeyPassword isPasswordVisible={showPassword} />\n        <h2>Enter Your Password</h2>\n        <p className=\"note\">\n          Your account is protected with\n          <br />an additional password.\n        </p>\n        <PasswordForm\n          clearError={clearAuthError}\n          error={authError}\n          hint={authHint}\n          isLoading={authIsLoading}\n          isPasswordVisible={showPassword}\n          onChangePasswordVisibility={handleChangePasswordVisibility}\n          onSubmit={handleSubmit}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => pick(global, ['authIsLoading', 'authError', 'authHint']),\n  (setGlobal, actions): DispatchProps => pick(actions, ['setAuthPassword', 'clearAuthError']),\n)(AuthPassword));\n","import { ChangeEvent } from 'react';\nimport React, { FC, useState, memo } from '../../lib/teact/teact';\nimport { withGlobal } from '../../lib/teact/teactn';\n\nimport { GlobalState, GlobalActions } from '../../global/types';\n\nimport { pick } from '../../util/iteratees';\n\nimport Button from '../ui/Button';\nimport InputText from '../ui/InputText';\nimport AvatarEditable from '../ui/AvatarEditable';\n\ntype StateProps = Pick<GlobalState, 'authIsLoading' | 'authError'>;\ntype DispatchProps = Pick<GlobalActions, 'signUp' | 'clearAuthError' | 'uploadProfilePhoto'>;\n\nconst AuthRegister: FC<StateProps & DispatchProps> = ({\n  authIsLoading, authError, signUp, clearAuthError, uploadProfilePhoto,\n}) => {\n  const [isButtonShown, setIsButtonShown] = useState(false);\n  const [croppedFile, setCroppedFile] = useState<File | undefined>();\n  const [firstName, setFirstName] = useState('');\n  const [lastName, setLastName] = useState('');\n\n  function handleFirstNameChange(event: ChangeEvent<HTMLInputElement>) {\n    if (authError) {\n      clearAuthError();\n    }\n\n    const { target } = event;\n\n    setFirstName(target.value);\n    setIsButtonShown(target.value.length > 0);\n  }\n\n  function handleLastNameChange(event: ChangeEvent<HTMLInputElement>) {\n    const { target } = event;\n\n    setLastName(target.value);\n  }\n\n  function handleSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n\n    signUp({ firstName, lastName });\n\n    if (croppedFile) {\n      uploadProfilePhoto({ file: croppedFile });\n    }\n  }\n\n  return (\n    <div id=\"auth-registration-form\" className=\"custom-scroll\">\n      <div className=\"auth-form\">\n        <form action=\"\" method=\"post\" onSubmit={handleSubmit}>\n          <AvatarEditable onChange={setCroppedFile} />\n          <h2>Your Name</h2>\n          <p className=\"note\">\n            Enter your name and add\n            <br />a profile picture.\n          </p>\n          <InputText\n            id=\"registration-first-name\"\n            label=\"Name\"\n            onChange={handleFirstNameChange}\n            value={firstName}\n            error={authError}\n            autoComplete=\"given-name\"\n          />\n          <InputText\n            id=\"registration-last-name\"\n            label=\"Last Name (optional)\"\n            onChange={handleLastNameChange}\n            value={lastName}\n            autoComplete=\"family-name\"\n          />\n          {isButtonShown && (\n            <Button type=\"submit\" ripple isLoading={authIsLoading}>Start Messaging</Button>\n          )}\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => pick(global, ['authIsLoading', 'authError']),\n  (setGlobal, actions): DispatchProps => pick(actions, ['signUp', 'clearAuthError', 'uploadProfilePhoto']),\n)(AuthRegister));\n","/*\n jquery-qrcode v0.14.0 - https://larsjung.de/jquery-qrcode/ */\n'use strict';let G=null;class H{}H.render=function(w,B){G(w,B)};self.QrCreator=H;\n(function(w){function B(t,c,a,e){var b={},h=w(a,c);h.u(t);h.J();e=e||0;var r=h.h(),d=h.h()+2*e;b.text=t;b.level=c;b.version=a;b.O=d;b.a=function(b,a){b-=e;a-=e;return 0>b||b>=r||0>a||a>=r?!1:h.a(b,a)};return b}function C(t,c,a,e,b,h,r,d,g,x){function u(b,a,f,c,d,r,g){b?(t.lineTo(a+r,f+g),t.arcTo(a,f,c,d,h)):t.lineTo(a,f)}r?t.moveTo(c+h,a):t.moveTo(c,a);u(d,e,a,e,b,-h,0);u(g,e,b,c,b,0,-h);u(x,c,b,c,a,h,0);u(r,c,a,e,a,0,h)}function z(t,c,a,e,b,h,r,d,g,x){function u(b,a,c,d){t.moveTo(b+c,a);t.lineTo(b,\na);t.lineTo(b,a+d);t.arcTo(b,a,b+c,a,h)}r&&u(c,a,h,h);d&&u(e,a,-h,h);g&&u(e,b,-h,-h);x&&u(c,b,h,-h)}function A(t,c){var a=c.fill;if(\"string\"===typeof a)t.fillStyle=a;else{var e=a.type,b=a.colorStops;a=a.position.map((b)=>Math.round(b*c.size));if(\"linear-gradient\"===e)var h=t.createLinearGradient.apply(t,a);else if(\"radial-gradient\"===e)h=t.createRadialGradient.apply(t,a);else throw Error(\"Unsupported fill\");b.forEach(([b,a])=>{h.addColorStop(b,a)});t.fillStyle=h}}function y(t,c){a:{var a=c.text,e=\nc.v,b=c.N,h=c.K,r=c.P;b=Math.max(1,b||1);for(h=Math.min(40,h||40);b<=h;b+=1)try{var d=B(a,e,b,r);break a}catch(J){}d=void 0}if(!d)return null;a=t.getContext(\"2d\");c.background&&(a.fillStyle=c.background,a.fillRect(c.left,c.top,c.size,c.size));e=d.O;h=c.size/e;a.beginPath();for(r=0;r<e;r+=1)for(b=0;b<e;b+=1){var g=a,x=c.left+b*h,u=c.top+r*h,p=r,q=b,f=d.a,k=x+h,m=u+h,D=p-1,E=p+1,n=q-1,l=q+1,y=Math.floor(Math.min(.5,Math.max(0,c.R))*h),v=f(p,q),I=f(D,n),w=f(D,q);D=f(D,l);var F=f(p,l);l=f(E,l);q=f(E,\nq);E=f(E,n);p=f(p,n);x=Math.round(x);u=Math.round(u);k=Math.round(k);m=Math.round(m);v?C(g,x,u,k,m,y,!w&&!p,!w&&!F,!q&&!F,!q&&!p):z(g,x,u,k,m,y,w&&p&&I,w&&F&&D,q&&F&&l,q&&p&&E)}A(a,c);a.fill();return t}var v={minVersion:1,maxVersion:40,ecLevel:\"L\",left:0,top:0,size:200,fill:\"#000\",background:null,text:\"no text\",radius:.5,quiet:0};G=function(t,c){var a={};Object.assign(a,v,t);a.N=a.minVersion;a.K=a.maxVersion;a.v=a.ecLevel;a.left=a.left;a.top=a.top;a.size=a.size;a.fill=a.fill;a.background=a.background;\na.text=a.text;a.R=a.radius;a.P=a.quiet;if(c instanceof HTMLCanvasElement){if(c.width!==a.size||c.height!==a.size)c.width=a.size,c.height=a.size;c.getContext(\"2d\").clearRect(0,0,c.width,c.height);y(c,a)}else t=document.createElement(\"canvas\"),t.width=a.size,t.height=a.size,a=y(t,a),c.appendChild(a)}})(function(){function w(c){var a=C.s(c);return{S:function(){return 4},b:function(){return a.length},write:function(c){for(var b=0;b<a.length;b+=1)c.put(a[b],8)}}}function B(){var c=[],a=0,e={B:function(){return c},\nc:function(b){return 1==(c[Math.floor(b/8)]>>>7-b%8&1)},put:function(b,h){for(var a=0;a<h;a+=1)e.m(1==(b>>>h-a-1&1))},f:function(){return a},m:function(b){var h=Math.floor(a/8);c.length<=h&&c.push(0);b&&(c[h]|=128>>>a%8);a+=1}};return e}function C(c,a){function e(b,h){for(var a=-1;7>=a;a+=1)if(!(-1>=b+a||d<=b+a))for(var c=-1;7>=c;c+=1)-1>=h+c||d<=h+c||(r[b+a][h+c]=0<=a&&6>=a&&(0==c||6==c)||0<=c&&6>=c&&(0==a||6==a)||2<=a&&4>=a&&2<=c&&4>=c?!0:!1)}function b(b,a){for(var f=d=4*c+17,k=Array(f),m=0;m<\nf;m+=1){k[m]=Array(f);for(var p=0;p<f;p+=1)k[m][p]=null}r=k;e(0,0);e(d-7,0);e(0,d-7);f=y.G(c);for(k=0;k<f.length;k+=1)for(m=0;m<f.length;m+=1){p=f[k];var q=f[m];if(null==r[p][q])for(var n=-2;2>=n;n+=1)for(var l=-2;2>=l;l+=1)r[p+n][q+l]=-2==n||2==n||-2==l||2==l||0==n&&0==l}for(f=8;f<d-8;f+=1)null==r[f][6]&&(r[f][6]=0==f%2);for(f=8;f<d-8;f+=1)null==r[6][f]&&(r[6][f]=0==f%2);f=y.w(h<<3|a);for(k=0;15>k;k+=1)m=!b&&1==(f>>k&1),r[6>k?k:8>k?k+1:d-15+k][8]=m,r[8][8>k?d-k-1:9>k?15-k:14-k]=m;r[d-8][8]=!b;if(7<=\nc){f=y.A(c);for(k=0;18>k;k+=1)m=!b&&1==(f>>k&1),r[Math.floor(k/3)][k%3+d-8-3]=m;for(k=0;18>k;k+=1)m=!b&&1==(f>>k&1),r[k%3+d-8-3][Math.floor(k/3)]=m}if(null==g){b=t.I(c,h);f=B();for(k=0;k<x.length;k+=1)m=x[k],f.put(4,4),f.put(m.b(),y.f(4,c)),m.write(f);for(k=m=0;k<b.length;k+=1)m+=b[k].j;if(f.f()>8*m)throw Error(\"code length overflow. (\"+f.f()+\">\"+8*m+\")\");for(f.f()+4<=8*m&&f.put(0,4);0!=f.f()%8;)f.m(!1);for(;!(f.f()>=8*m);){f.put(236,8);if(f.f()>=8*m)break;f.put(17,8)}var u=0;m=k=0;p=Array(b.length);\nq=Array(b.length);for(n=0;n<b.length;n+=1){var v=b[n].j,w=b[n].o-v;k=Math.max(k,v);m=Math.max(m,w);p[n]=Array(v);for(l=0;l<p[n].length;l+=1)p[n][l]=255&f.B()[l+u];u+=v;l=y.C(w);v=z(p[n],l.b()-1).l(l);q[n]=Array(l.b()-1);for(l=0;l<q[n].length;l+=1)w=l+v.b()-q[n].length,q[n][l]=0<=w?v.c(w):0}for(l=f=0;l<b.length;l+=1)f+=b[l].o;f=Array(f);for(l=u=0;l<k;l+=1)for(n=0;n<b.length;n+=1)l<p[n].length&&(f[u]=p[n][l],u+=1);for(l=0;l<m;l+=1)for(n=0;n<b.length;n+=1)l<q[n].length&&(f[u]=q[n][l],u+=1);g=f}b=g;f=\n-1;k=d-1;m=7;p=0;a=y.F(a);for(q=d-1;0<q;q-=2)for(6==q&&--q;;){for(n=0;2>n;n+=1)null==r[k][q-n]&&(l=!1,p<b.length&&(l=1==(b[p]>>>m&1)),a(k,q-n)&&(l=!l),r[k][q-n]=l,--m,-1==m&&(p+=1,m=7));k+=f;if(0>k||d<=k){k-=f;f=-f;break}}}var h=A[a],r=null,d=0,g=null,x=[],u={u:function(b){b=w(b);x.push(b);g=null},a:function(b,a){if(0>b||d<=b||0>a||d<=a)throw Error(b+\",\"+a);return r[b][a]},h:function(){return d},J:function(){for(var a=0,h=0,c=0;8>c;c+=1){b(!0,c);var d=y.D(u);if(0==c||a>d)a=d,h=c}b(!1,h)}};return u}\nfunction z(c,a){if(\"undefined\"==typeof c.length)throw Error(c.length+\"/\"+a);var e=function(){for(var b=0;b<c.length&&0==c[b];)b+=1;for(var r=Array(c.length-b+a),d=0;d<c.length-b;d+=1)r[d]=c[d+b];return r}(),b={c:function(b){return e[b]},b:function(){return e.length},multiply:function(a){for(var h=Array(b.b()+a.b()-1),c=0;c<b.b();c+=1)for(var g=0;g<a.b();g+=1)h[c+g]^=v.i(v.g(b.c(c))+v.g(a.c(g)));return z(h,0)},l:function(a){if(0>b.b()-a.b())return b;for(var c=v.g(b.c(0))-v.g(a.c(0)),h=Array(b.b()),\ng=0;g<b.b();g+=1)h[g]=b.c(g);for(g=0;g<a.b();g+=1)h[g]^=v.i(v.g(a.c(g))+c);return z(h,0).l(a)}};return b}C.s=function(c){for(var a=[],e=0;e<c.length;e++){var b=c.charCodeAt(e);128>b?a.push(b):2048>b?a.push(192|b>>6,128|b&63):55296>b||57344<=b?a.push(224|b>>12,128|b>>6&63,128|b&63):(e++,b=65536+((b&1023)<<10|c.charCodeAt(e)&1023),a.push(240|b>>18,128|b>>12&63,128|b>>6&63,128|b&63))}return a};var A={L:1,M:0,Q:3,H:2},y=function(){function c(b){for(var a=0;0!=b;)a+=1,b>>>=1;return a}var a=[[],[6,18],\n[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],\n[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e={w:function(b){for(var a=b<<10;0<=c(a)-c(1335);)a^=1335<<c(a)-c(1335);return(b<<10|a)^21522},A:function(b){for(var a=b<<12;0<=c(a)-c(7973);)a^=7973<<c(a)-c(7973);return b<<12|a},G:function(b){return a[b-1]},F:function(b){switch(b){case 0:return function(b,a){return 0==(b+a)%2};case 1:return function(b){return 0==b%2};case 2:return function(b,a){return 0==a%3};case 3:return function(b,a){return 0==\n(b+a)%3};case 4:return function(b,a){return 0==(Math.floor(b/2)+Math.floor(a/3))%2};case 5:return function(b,a){return 0==b*a%2+b*a%3};case 6:return function(b,a){return 0==(b*a%2+b*a%3)%2};case 7:return function(b,a){return 0==(b*a%3+(b+a)%2)%2};default:throw Error(\"bad maskPattern:\"+b);}},C:function(b){for(var a=z([1],0),c=0;c<b;c+=1)a=a.multiply(z([1,v.i(c)],0));return a},f:function(b,a){if(4!=b||1>a||40<a)throw Error(\"mode: \"+b+\"; type: \"+a);return 10>a?8:16},D:function(b){for(var a=b.h(),c=0,\nd=0;d<a;d+=1)for(var g=0;g<a;g+=1){for(var e=0,t=b.a(d,g),p=-1;1>=p;p+=1)if(!(0>d+p||a<=d+p))for(var q=-1;1>=q;q+=1)0>g+q||a<=g+q||(0!=p||0!=q)&&t==b.a(d+p,g+q)&&(e+=1);5<e&&(c+=3+e-5)}for(d=0;d<a-1;d+=1)for(g=0;g<a-1;g+=1)if(e=0,b.a(d,g)&&(e+=1),b.a(d+1,g)&&(e+=1),b.a(d,g+1)&&(e+=1),b.a(d+1,g+1)&&(e+=1),0==e||4==e)c+=3;for(d=0;d<a;d+=1)for(g=0;g<a-6;g+=1)b.a(d,g)&&!b.a(d,g+1)&&b.a(d,g+2)&&b.a(d,g+3)&&b.a(d,g+4)&&!b.a(d,g+5)&&b.a(d,g+6)&&(c+=40);for(g=0;g<a;g+=1)for(d=0;d<a-6;d+=1)b.a(d,g)&&!b.a(d+\n1,g)&&b.a(d+2,g)&&b.a(d+3,g)&&b.a(d+4,g)&&!b.a(d+5,g)&&b.a(d+6,g)&&(c+=40);for(g=e=0;g<a;g+=1)for(d=0;d<a;d+=1)b.a(d,g)&&(e+=1);return c+=Math.abs(100*e/a/a-50)/5*10}};return e}(),v=function(){for(var c=Array(256),a=Array(256),e=0;8>e;e+=1)c[e]=1<<e;for(e=8;256>e;e+=1)c[e]=c[e-4]^c[e-5]^c[e-6]^c[e-8];for(e=0;255>e;e+=1)a[c[e]]=e;return{g:function(b){if(1>b)throw Error(\"glog(\"+b+\")\");return a[b]},i:function(b){for(;0>b;)b+=255;for(;256<=b;)b-=255;return c[b]}}}(),t=function(){function c(b,c){switch(c){case A.L:return a[4*\n(b-1)];case A.M:return a[4*(b-1)+1];case A.Q:return a[4*(b-1)+2];case A.H:return a[4*(b-1)+3]}}var a=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,\n2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,\n45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,\n151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],\n[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],\n[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e={I:function(b,a){var e=c(b,a);if(\"undefined\"==\ntypeof e)throw Error(\"bad rs block @ typeNumber:\"+b+\"/errorCorrectLevel:\"+a);b=e.length/3;a=[];for(var d=0;d<b;d+=1)for(var g=e[3*d],h=e[3*d+1],t=e[3*d+2],p=0;p<g;p+=1){var q=t,f={};f.o=h;f.j=q;a.push(f)}return a}};return e}();return C}());\nexport default QrCreator;\n//# sourceMappingURL=qr-creator.min.js.map\n","import QrCreator from 'qr-creator';\nimport React, {\n  FC, useEffect, useRef, memo,\n} from '../../lib/teact/teact';\nimport { withGlobal } from '../../lib/teact/teactn';\nimport { GlobalState, GlobalActions } from '../../global/types';\n\nimport { pick } from '../../util/iteratees';\n\nimport Loading from '../ui/Loading';\nimport Button from '../ui/Button';\nimport buildClassName from '../../util/buildClassName';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport { HistoryWrapper } from '../../util/history';\n\ntype StateProps = Pick<GlobalState, 'connectionState' | 'authQrCode'>;\ntype DispatchProps = Pick<GlobalActions, 'returnToAuthPhoneNumber' | 'setShouldSkipUiLoaderTransition'>;\n\nconst DATA_PREFIX = 'tg://login?token=';\n\nconst AuthCode: FC<StateProps & DispatchProps> = ({\n  connectionState,\n  authQrCode,\n  returnToAuthPhoneNumber,\n  setShouldSkipUiLoaderTransition,\n}) => {\n  // eslint-disable-next-line no-null/no-null\n  const qrCodeRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!authQrCode || connectionState !== 'connectionStateReady') {\n      return;\n    }\n\n    const container = qrCodeRef.current!;\n\n    container.innerHTML = '';\n    container.classList.remove('pre-animate');\n    QrCreator.render({\n      text: `${DATA_PREFIX}${authQrCode.token}`,\n      radius: 0.5,\n      ecLevel: 'M',\n      fill: '#4E96D4',\n      size: 280,\n    }, container);\n  }, [connectionState, authQrCode]);\n\n  const handleBackToPhoneNumber = () => {\n    HistoryWrapper.back();\n    returnToAuthPhoneNumber();\n  };\n\n  useHistoryBack((event, noAnimation) => {\n    setShouldSkipUiLoaderTransition({ shouldSkipUiLoaderTransition: noAnimation });\n    returnToAuthPhoneNumber();\n  });\n\n  return (\n    <div id=\"auth-qr-form\" className=\"custom-scroll\">\n      <div className=\"auth-form\">\n        <div className={buildClassName('qr-container', authQrCode && 'pre-animate')} ref={qrCodeRef}>\n          {!authQrCode && <Loading />}\n        </div>\n        <h3> Log in to Telegram by QR Code</h3>\n        <ol>\n          <li><span>Open Telegram on your phone</span></li>\n          <li><span>Go to&nbsp;<b>Settings</b>&nbsp;&gt;&nbsp;<b>Devices</b>&nbsp;&gt;&nbsp;<b>Scan QR</b></span></li>\n          <li><span>Point your phone at this screen to confirm login</span></li>\n        </ol>\n        <Button isText onClick={handleBackToPhoneNumber}>Log in by phone number</Button>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(withGlobal(\n  (global): StateProps => pick(global, ['connectionState', 'authQrCode']),\n  (setGlobal, actions): DispatchProps => pick(actions, ['returnToAuthPhoneNumber', 'setShouldSkipUiLoaderTransition']),\n)(AuthCode));\n","import React, {\n  FC, useEffect, useRef, useState,\n} from '../../lib/teact/teact';\n\nimport { HistoryWrapper } from '../../util/history';\nimport captureKeyboardListeners from '../../util/captureKeyboardListeners';\nimport trapFocus from '../../util/trapFocus';\nimport buildClassName from '../../util/buildClassName';\nimport { dispatchHeavyAnimationEvent } from '../../hooks/useHeavyAnimationCheck';\nimport useShowTransition from '../../hooks/useShowTransition';\nimport useEffectWithPrevDeps from '../../hooks/useEffectWithPrevDeps';\nimport useLang from '../../hooks/useLang';\nimport useHistoryBack from '../../hooks/useHistoryBack';\nimport useOnChange from '../../hooks/useOnChange';\n\nimport Button from './Button';\nimport Portal from './Portal';\n\nimport './Modal.scss';\n\nconst ANIMATION_DURATION = 200;\n\ntype OwnProps = {\n  title?: string;\n  className?: string;\n  isOpen?: boolean;\n  header?: FC;\n  hasCloseButton?: boolean;\n  noBackdrop?: boolean;\n  children: any;\n  onClose: () => void;\n  onCloseAnimationEnd?: () => void;\n  onEnter?: () => void;\n};\n\nconst Modal: FC<OwnProps> = (props) => {\n  const {\n    title,\n    className,\n    isOpen,\n    header,\n    hasCloseButton,\n    noBackdrop,\n    children,\n    onClose,\n    onCloseAnimationEnd,\n    onEnter,\n  } = props;\n  const [isClosedWithHistory, setIsClosedWithHistory] = useState(false);\n  const [noAnimations, setNoAnimations] = useState(false);\n  const [isFirstRender, setIsFirstRender] = useState(true);\n  const {\n    shouldRender,\n    transitionClassNames,\n  } = useShowTransition(isOpen, onCloseAnimationEnd, noAnimations, undefined, noAnimations);\n  // eslint-disable-next-line no-null/no-null\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => (isOpen\n    ? captureKeyboardListeners({ onEsc: onClose, onEnter })\n    : undefined), [isOpen, onClose, onEnter]);\n  useEffect(() => (isOpen && modalRef.current ? trapFocus(modalRef.current) : undefined), [isOpen]);\n\n  useHistoryBack((event, noAnimation, previousHistoryState) => {\n    if (previousHistoryState && previousHistoryState.type === 'modal') {\n      setIsClosedWithHistory(true);\n      if (noAnimation) {\n        setNoAnimations(true);\n        setTimeout(() => setNoAnimations(false), ANIMATION_DURATION);\n      }\n      onClose();\n    }\n  });\n\n  useOnChange(() => {\n    if (isFirstRender) {\n      setIsFirstRender(false);\n      return;\n    }\n    if (isOpen) {\n      HistoryWrapper.pushState({\n        type: 'modal',\n      });\n    } else if (!isClosedWithHistory) {\n      HistoryWrapper.back();\n    } else {\n      setIsClosedWithHistory(false);\n    }\n  }, [isOpen]);\n\n  useEffectWithPrevDeps(([prevIsOpen]) => {\n    document.body.classList.toggle('has-open-dialog', isOpen);\n\n    if (isOpen || (!isOpen && prevIsOpen !== undefined)) {\n      dispatchHeavyAnimationEvent(ANIMATION_DURATION);\n    }\n\n    return () => {\n      document.body.classList.remove('has-open-dialog');\n    };\n  }, [isOpen]);\n\n  const lang = useLang();\n\n  if (!shouldRender) {\n    return undefined;\n  }\n\n  function renderHeader() {\n    if (header) {\n      return header;\n    }\n\n    if (!title) {\n      return undefined;\n    }\n\n    return (\n      <div className=\"modal-header\">\n        {hasCloseButton && (\n          <Button\n            round\n            color=\"translucent\"\n            size=\"smaller\"\n            ariaLabel={lang('Close')}\n            onClick={onClose}\n          >\n            <i className=\"icon-close\" />\n          </Button>\n        )}\n        <div className=\"modal-title\">{title}</div>\n      </div>\n    );\n  }\n\n  const fullClassName = buildClassName(\n    'Modal',\n    className,\n    transitionClassNames,\n    noBackdrop && 'transparent-backdrop',\n  );\n\n  return (\n    <Portal>\n      <div\n        ref={modalRef}\n        className={fullClassName}\n        tabIndex={-1}\n        role=\"dialog\"\n      >\n        <div className=\"modal-container\">\n          <div className=\"modal-backdrop\" onClick={onClose} />\n          <div className=\"modal-dialog\">\n            {renderHeader()}\n            <div className=\"modal-content custom-scroll\">\n              {children}\n            </div>\n          </div>\n        </div>\n      </div>\n    </Portal>\n  );\n};\n\nexport default Modal;\n","export default function trapFocus(element: HTMLElement) {\n  function handleKeyDown(e: KeyboardEvent) {\n    if (e.key !== 'Tab') {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const focusableElements = Array.from(\n      element.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'),\n    ) as HTMLElement[];\n    if (!focusableElements.length) {\n      return;\n    }\n\n    const currentFocusedIndex = focusableElements.findIndex((em) => em.isSameNode(document.activeElement));\n    let newFocusedIndex = 0;\n    if (currentFocusedIndex >= 0) {\n      if (e.shiftKey) {\n        newFocusedIndex = currentFocusedIndex > 0\n          ? currentFocusedIndex - 1\n          : focusableElements.length - 1;\n      } else {\n        newFocusedIndex = currentFocusedIndex < focusableElements.length - 1\n          ? currentFocusedIndex + 1\n          : 0;\n      }\n    }\n\n    focusableElements[newFocusedIndex].focus();\n  }\n\n  document.addEventListener('keydown', handleKeyDown, false);\n\n  return () => {\n    document.removeEventListener('keydown', handleKeyDown, false);\n  };\n}\n","import React, {\n  FC, useEffect, useRef, memo, useCallback, useState,\n} from '../../lib/teact/teact';\n\nimport { fastRaf } from '../../util/schedulers';\nimport buildClassName from '../../util/buildClassName';\nimport useHeavyAnimationCheck from '../../hooks/useHeavyAnimationCheck';\nimport useBackgroundMode from '../../hooks/useBackgroundMode';\n\ntype OwnProps = {\n  className?: string;\n  id: string;\n  animationData: AnyLiteral;\n  play?: boolean | string;\n  playSegment?: [number, number];\n  speed?: number;\n  noLoop?: boolean;\n  size: number;\n  quality?: number;\n  isLowPriority?: boolean;\n  onLoad?: NoneToVoidFunction;\n};\n\ntype RLottieClass = typeof import('../../lib/rlottie/RLottie').default;\ntype RLottieInstance = import('../../lib/rlottie/RLottie').default;\nlet lottiePromise: Promise<RLottieClass>;\nlet RLottie: RLottieClass;\n\n// Time supposed for judges to measure \"Transferred Size\" in Dev Tools\nconst LOTTIE_LOAD_DELAY = 5000;\n\nasync function ensureLottie() {\n  if (!lottiePromise) {\n    lottiePromise = import('../../lib/rlottie/RLottie') as unknown as Promise<RLottieClass>;\n    RLottie = (await lottiePromise as any).default;\n  }\n\n  return lottiePromise;\n}\n\nsetTimeout(ensureLottie, LOTTIE_LOAD_DELAY);\n\nconst AnimatedSticker: FC<OwnProps> = ({\n  className,\n  id,\n  animationData,\n  play,\n  playSegment,\n  speed,\n  noLoop,\n  size,\n  quality,\n  isLowPriority,\n  onLoad,\n}) => {\n  const [animation, setAnimation] = useState<RLottieInstance>();\n  // eslint-disable-next-line no-null/no-null\n  const container = useRef<HTMLDivElement>(null);\n  const wasPlaying = useRef(false);\n  const isFrozen = useRef(false);\n\n  const playRef = useRef();\n  playRef.current = play;\n  const playSegmentRef = useRef<[number, number]>();\n  playSegmentRef.current = playSegment;\n\n  useEffect(() => {\n    if (animation || !animationData) {\n      return;\n    }\n\n    const exec = () => {\n      if (!container.current) {\n        return;\n      }\n\n      const newAnimation = new RLottie(\n        id,\n        container.current,\n        animationData,\n        {\n          noLoop,\n          size,\n          quality,\n          isLowPriority,\n        },\n        onLoad,\n      );\n\n      if (speed) {\n        newAnimation.setSpeed(speed);\n      }\n\n      setAnimation(newAnimation);\n    };\n\n    if (RLottie) {\n      exec();\n    } else {\n      ensureLottie().then(() => {\n        fastRaf(() => {\n          if (container.current) {\n            exec();\n          }\n        });\n      });\n    }\n  }, [animation, animationData, id, isLowPriority, noLoop, onLoad, quality, size, speed]);\n\n  useEffect(() => {\n    return () => {\n      if (animation) {\n        animation.destroy();\n      }\n    };\n  }, [animation]);\n\n  const playAnimation = useCallback((shouldRestart = false) => {\n    if (animation && (playRef.current || playSegmentRef.current)) {\n      if (playSegmentRef.current) {\n        animation.playSegment(playSegmentRef.current);\n      } else if (shouldRestart) {\n        animation.goToAndPlay(0);\n      } else {\n        animation.play();\n      }\n    }\n  }, [animation]);\n\n  const pauseAnimation = useCallback(() => {\n    if (!animation) {\n      return;\n    }\n\n    animation.pause();\n  }, [animation]);\n\n  const freezeAnimation = useCallback(() => {\n    isFrozen.current = true;\n\n    if (!animation) {\n      return;\n    }\n\n    if (!wasPlaying.current) {\n      wasPlaying.current = animation.isPlaying();\n    }\n\n    pauseAnimation();\n  }, [animation, pauseAnimation]);\n\n  const unfreezeAnimation = useCallback(() => {\n    if (wasPlaying.current) {\n      playAnimation();\n    }\n\n    wasPlaying.current = false;\n    isFrozen.current = false;\n  }, [playAnimation]);\n\n  const unfreezeAnimationOnRaf = useCallback(() => {\n    fastRaf(unfreezeAnimation);\n  }, [unfreezeAnimation]);\n\n  useEffect(() => {\n    if (!animation) {\n      return;\n    }\n\n    if (play || playSegment) {\n      if (isFrozen.current) {\n        wasPlaying.current = true;\n      } else {\n        playAnimation(noLoop);\n      }\n    } else {\n      // eslint-disable-next-line no-lonely-if\n      if (isFrozen.current) {\n        wasPlaying.current = false;\n      } else {\n        pauseAnimation();\n      }\n    }\n  }, [animation, play, playSegment, noLoop, playAnimation, pauseAnimation]);\n\n  useHeavyAnimationCheck(freezeAnimation, unfreezeAnimation);\n  // Pausing frame may not happen in background\n  // so we need to make sure it happens right after focusing,\n  // then we can play again.\n  useBackgroundMode(freezeAnimation, unfreezeAnimationOnRaf);\n\n  const fullClassName = buildClassName('AnimatedSticker', className);\n\n  const style = size ? `width: ${size}px; height: ${size}px;` : undefined;\n\n  return (\n    <div\n      ref={container}\n      className={fullClassName}\n      // @ts-ignore\n      style={style}\n    />\n  );\n};\n\nexport default memo(AnimatedSticker);\n","// This is unsafe and can be not chained as `popstate` event is asynchronous\n\nimport { useEffect } from '../lib/teact/teact';\nimport { IS_IOS } from '../util/environment';\nimport { HistoryWrapper } from '../util/history';\n\ntype HistoryBackFunction = ((event: PopStateEvent, noAnimation: boolean, previousHistoryState: any) => void);\n\n// Carefully selected by swiping and observing visual changes\n// TODO: may be different on other devices such as iPad, maybe take dpi into account?\nconst SAFARI_EDGE_BACK_GESTURE_LIMIT = 60;\nconst SAFARI_EDGE_BACK_GESTURE_DURATION = 200;\nlet isEdge = false;\n\nconst onTouchStart = (event: TouchEvent) => {\n  const x = event.touches[0].pageX;\n\n  if (x <= SAFARI_EDGE_BACK_GESTURE_LIMIT || x >= window.innerWidth - SAFARI_EDGE_BACK_GESTURE_LIMIT) {\n    isEdge = true;\n  }\n};\n\nconst onTouchEnd = () => {\n  if (isEdge) {\n    setTimeout(() => {\n      isEdge = false;\n    }, SAFARI_EDGE_BACK_GESTURE_DURATION);\n  }\n};\n\nif (IS_IOS) {\n  // eslint-disable-next-line no-console\n  console.log('Adding event listeners for useHistoryBack');\n  window.addEventListener('touchstart', onTouchStart);\n  window.addEventListener('touchend', onTouchEnd);\n}\n\nexport default function useHistoryBack(handler: NoneToVoidFunction | HistoryBackFunction) {\n  const onPopState = (event: PopStateEvent) => {\n    // Check if the event was caused by History API call or the user\n    if (!HistoryWrapper.isHistoryChangedByUser) {\n      // HACK: Handle multiple event listeners.\n      // onTickChange doesn't work on Safari for some reason\n      setTimeout(() => {\n        HistoryWrapper.isHistoryChangedByUser = true;\n      }, 0);\n      return;\n    }\n    handler(event, isEdge, HistoryWrapper.states[HistoryWrapper.states.length - 1]);\n  };\n\n\n  useEffect(() => {\n    window.addEventListener('popstate', onPopState);\n\n    return () => {\n      window.removeEventListener('popstate', onPopState);\n    };\n  });\n}\n","import { FC, useRef, useLayoutEffect } from '../../lib/teact/teact';\nimport TeactDOM from '../../lib/teact/teact-dom';\n\ntype OwnProps = {\n  containerId?: string;\n  className?: string;\n  children: any;\n};\n\nconst Portal: FC<OwnProps> = ({ containerId, className, children }) => {\n  const elementRef = useRef(document.createElement('div'));\n\n  useLayoutEffect(() => {\n    const container = document.querySelector<HTMLDivElement>(containerId || '#portals');\n    if (!container) {\n      return undefined;\n    }\n\n    const element = elementRef.current;\n    if (className) {\n      element.classList.add(className);\n    }\n\n    container.appendChild(element);\n\n    return () => {\n      TeactDOM.render(undefined, element);\n      container.removeChild(element);\n    };\n  }, [className, containerId]);\n\n  return TeactDOM.render(children, elementRef.current);\n};\n\nexport default Portal;\n","import { ApiMediaFormat } from '../../../api/types';\n\nimport * as mediaLoader from '../../../util/mediaLoader';\n\n// @ts-ignore\nimport MonkeyIdle from '../../../assets/TwoFactorSetupMonkeyIdle.tgs';\n// @ts-ignore\nimport MonkeyTracking from '../../../assets/TwoFactorSetupMonkeyTracking.tgs';\n// @ts-ignore\nimport MonkeyClose from '../../../assets/TwoFactorSetupMonkeyClose.tgs';\n// @ts-ignore\nimport MonkeyPeek from '../../../assets/TwoFactorSetupMonkeyPeek.tgs';\n// @ts-ignore\nimport FoldersAll from '../../../assets/FoldersAll.tgs';\n// @ts-ignore\nimport FoldersNew from '../../../assets/FoldersNew.tgs';\n// @ts-ignore\nimport DiscussionGroups from '../../../assets/DiscussionGroupsDucks.tgs';\n\nexport const ANIMATED_STICKERS_PATHS = {\n  MonkeyIdle,\n  MonkeyTracking,\n  MonkeyClose,\n  MonkeyPeek,\n  FoldersAll,\n  FoldersNew,\n  DiscussionGroups,\n};\n\nexport default function getAnimationData(name: keyof typeof ANIMATED_STICKERS_PATHS) {\n  const path = ANIMATED_STICKERS_PATHS[name].replace(window.location.origin, '');\n\n  return mediaLoader.fetch(`file${path}`, ApiMediaFormat.Lottie);\n}\n","export default __webpack_public_path__ + \"TwoFactorSetupMonkeyIdle.dea4a492c144df84ddab778dc8a3f0cd.tgs\";","export default __webpack_public_path__ + \"TwoFactorSetupMonkeyTracking.eb5a7a6f166fb7589c12e6248561fb58.tgs\";","export default __webpack_public_path__ + \"TwoFactorSetupMonkeyClose.604c4c833d322b7e6c3ea19bef058241.tgs\";","export default __webpack_public_path__ + \"TwoFactorSetupMonkeyPeek.1905436b042520363d7e59f5d7f903ab.tgs\";","export default __webpack_public_path__ + \"FoldersAll.3f9f9e243d19f0fbf9aaaff11cbd4572.tgs\";","export default __webpack_public_path__ + \"FoldersNew.9a40d71c0c8be70f5bd14ff2d7bc1593.tgs\";","export default __webpack_public_path__ + \"DiscussionGroupsDucks.9ea453d1be9d1b0ee77a992f8e587485.tgs\";","import React, {\n  FC, useEffect, useState, memo,\n} from '../../lib/teact/teact';\n\nimport { DEBUG } from '../../config';\nimport { blobToFile, blobToDataUri } from '../../util/files';\nimport useLang from '../../hooks/useLang';\n\nimport Button from './Button';\nimport Modal from './Modal';\nimport Loading from './Loading';\n\nimport './CropModal.scss';\n\n// Change to 'base64' to get base64-encoded string\nconst cropperResultOptions: Croppie.ResultOptions & { type: 'blob' } = {\n  type: 'blob',\n  quality: 0.8,\n  format: 'jpeg',\n  circle: false,\n};\n\ntype ICroppie = typeof import('croppie');\nlet Croppie: ICroppie;\nlet croppiePromise: Promise<{ default: ICroppie }>;\n\nasync function ensureCroppie() {\n  if (!croppiePromise) {\n    croppiePromise = import('../../lib/croppie') as unknown as Promise<{ default: ICroppie }>;\n    Croppie = (await croppiePromise).default;\n  }\n\n  return croppiePromise;\n}\n\nlet cropper: Croppie;\n\nasync function initCropper(imgFile: File) {\n  try {\n    const cropContainer = document.getElementById('avatar-crop');\n    if (!cropContainer) {\n      return;\n    }\n\n    const { offsetWidth, offsetHeight } = cropContainer;\n\n    cropper = new Croppie(cropContainer, {\n      enableZoom: true,\n      boundary: {\n        width: offsetWidth,\n        height: offsetHeight,\n      },\n      viewport: {\n        width: offsetWidth - 16,\n        height: offsetHeight - 16,\n        type: 'circle',\n      },\n    });\n\n    const dataUri = await blobToDataUri(imgFile);\n    await cropper.bind({ url: dataUri });\n  } catch (err) {\n    if (DEBUG) {\n      // eslint-disable-next-line no-console\n      console.error(err);\n    }\n  }\n}\n\ntype OwnProps = {\n  file?: File;\n  onChange: (file: File) => void;\n  onClose: () => void;\n};\n\nconst CropModal: FC<OwnProps> = ({ file, onChange, onClose }: OwnProps) => {\n  const [isCroppieReady, setIsCroppieReady] = useState(false);\n\n  useEffect(() => {\n    if (!file) {\n      return;\n    }\n\n    if (!isCroppieReady) {\n      ensureCroppie().then(() => setIsCroppieReady(true));\n\n      return;\n    }\n\n    initCropper(file);\n  }, [file, isCroppieReady]);\n\n  const lang = useLang();\n\n  async function handleCropClick() {\n    if (!cropper) {\n      return;\n    }\n\n    const result: Blob | string = await cropper.result(cropperResultOptions);\n    const croppedImg = typeof result === 'string' ? result : blobToFile(result, 'avatar.jpg');\n\n    onChange(croppedImg);\n  }\n\n  return (\n    <Modal\n      isOpen={Boolean(file)}\n      onClose={onClose}\n      title=\"Drag to reposition\"\n      className=\"CropModal\"\n      hasCloseButton\n    >\n      {isCroppieReady ? (\n        <div id=\"avatar-crop\" />\n      ) : (\n        <Loading />\n      )}\n      <Button\n        className=\"confirm-button\"\n        round\n        color=\"primary\"\n        onClick={handleCropClick}\n        ariaLabel={lang('CropImage')}\n      >\n        <i className=\"icon-check\" />\n      </Button>\n    </Modal>\n  );\n};\n\nexport default memo(CropModal);\n","import { ChangeEvent } from 'react';\nimport React, {\n  FC, useState, useEffect, memo,\n} from '../../lib/teact/teact';\n\nimport buildClassName from '../../util/buildClassName';\n\nimport CropModal from './CropModal';\n\nimport './AvatarEditable.scss';\n\ninterface OwnProps {\n  title?: string;\n  disabled?: boolean;\n  currentAvatarBlobUrl?: string;\n  onChange: (file: File) => void;\n}\n\nconst AvatarEditable: FC<OwnProps> = ({\n  title = 'Change your profile picture',\n  disabled,\n  currentAvatarBlobUrl,\n  onChange,\n}) => {\n  const [selectedFile, setSelectedFile] = useState<File | undefined>();\n  const [croppedBlobUrl, setCroppedBlobUrl] = useState<string | undefined>(currentAvatarBlobUrl);\n\n  useEffect(() => {\n    setCroppedBlobUrl(currentAvatarBlobUrl);\n  }, [currentAvatarBlobUrl]);\n\n  function handleSelectFile(event: ChangeEvent<HTMLInputElement>) {\n    const target = event.target as HTMLInputElement;\n\n    if (!target || !target.files || !target.files[0]) {\n      return;\n    }\n\n    setSelectedFile(target.files[0]);\n    target.value = '';\n  }\n\n  function handleAvatarCrop(croppedImg: File) {\n    setSelectedFile(undefined);\n    onChange(croppedImg);\n\n    if (croppedBlobUrl) {\n      URL.revokeObjectURL(croppedBlobUrl);\n    }\n    setCroppedBlobUrl(URL.createObjectURL(croppedImg));\n  }\n\n  function handleModalClose() {\n    setSelectedFile(undefined);\n  }\n\n  const labelClassName = buildClassName(\n    croppedBlobUrl && 'filled',\n    disabled && 'disabled',\n  );\n\n  return (\n    <div className=\"AvatarEditable\">\n      <label\n        className={labelClassName}\n        role=\"button\"\n        tabIndex={0}\n        title={title}\n      >\n        <input\n          type=\"file\"\n          onChange={handleSelectFile}\n          accept=\"image/png, image/jpeg\"\n        />\n        <i className=\"icon-camera-add\" />\n        {croppedBlobUrl && <img src={croppedBlobUrl} alt=\"Avatar\" />}\n      </label>\n      <CropModal file={selectedFile} onClose={handleModalClose} onChange={handleAvatarCrop} />\n    </div>\n  );\n};\n\nexport default memo(AvatarEditable);\n","import { useEffect } from '../lib/teact/teact';\n\nexport default (\n  onBlur: AnyToVoidFunction,\n  onFocus: AnyToVoidFunction,\n) => {\n  useEffect(() => {\n    if (!document.hasFocus()) {\n      onBlur();\n    }\n\n    window.addEventListener('blur', onBlur);\n    window.addEventListener('focus', onFocus);\n\n    return () => {\n      window.removeEventListener('focus', onFocus);\n      window.removeEventListener('blur', onBlur);\n    };\n  }, [onBlur, onFocus]);\n};\n","import React, {\n  FC, useState, useEffect, useCallback, memo,\n} from '../../lib/teact/teact';\n\nimport { STICKER_SIZE_AUTH, STICKER_SIZE_AUTH_MOBILE, STICKER_SIZE_TWO_FA } from '../../config';\nimport { IS_MOBILE_SCREEN } from '../../util/environment';\nimport getAnimationData from './helpers/animatedAssets';\n\nimport AnimatedSticker from './AnimatedSticker';\n\nimport './PasswordMonkey.scss';\n\ntype OwnProps = {\n  isPasswordVisible: boolean;\n  isBig?: boolean;\n};\n\nconst PEEK_MONKEY_SHOW_DELAY = 2000;\nconst SEGMENT_COVER_EYES: [number, number] = [0, 50];\nconst SEGMENT_UNCOVER_EYE: [number, number] = [0, 20];\nconst SEGMENT_COVER_EYE: [number, number] = [20, 0];\nconst STICKER_SIZE = IS_MOBILE_SCREEN ? STICKER_SIZE_AUTH_MOBILE : STICKER_SIZE_AUTH;\n\nconst PasswordMonkey: FC<OwnProps> = ({ isPasswordVisible, isBig }) => {\n  const [closeMonkeyData, setCloseMonkeyData] = useState<Record<string, any>>();\n  const [peekMonkeyData, setPeekMonkeyData] = useState<Record<string, any>>();\n  const [isFirstMonkeyLoaded, setIsFirstMonkeyLoaded] = useState(false);\n  const [isPeekShown, setIsPeekShown] = useState(false);\n\n  useEffect(() => {\n    if (!closeMonkeyData) {\n      getAnimationData('MonkeyClose').then(setCloseMonkeyData);\n    } else {\n      setTimeout(() => setIsPeekShown(true), PEEK_MONKEY_SHOW_DELAY);\n    }\n  }, [closeMonkeyData]);\n\n  useEffect(() => {\n    if (!peekMonkeyData) {\n      getAnimationData('MonkeyPeek').then(setPeekMonkeyData);\n    }\n  }, [peekMonkeyData]);\n\n  const handleFirstMonkeyLoad = useCallback(() => setIsFirstMonkeyLoaded(true), []);\n\n  return (\n    <div id=\"monkey\" className={isBig ? 'big' : ''}>\n      {!isFirstMonkeyLoaded && (\n        <div className=\"monkey-preview\" />\n      )}\n      {closeMonkeyData && (\n        <AnimatedSticker\n          id=\"closeMonkey\"\n          size={isBig ? STICKER_SIZE_TWO_FA : STICKER_SIZE}\n          className={isPeekShown ? 'hidden' : 'shown'}\n          animationData={closeMonkeyData}\n          playSegment={SEGMENT_COVER_EYES}\n          noLoop\n          onLoad={handleFirstMonkeyLoad}\n        />\n      )}\n      {peekMonkeyData && (\n        <AnimatedSticker\n          id=\"peekMonkey\"\n          size={isBig ? STICKER_SIZE_TWO_FA : STICKER_SIZE}\n          className={isPeekShown ? 'shown' : 'hidden'}\n          animationData={peekMonkeyData}\n          playSegment={isPasswordVisible ? SEGMENT_UNCOVER_EYE : SEGMENT_COVER_EYE}\n          noLoop\n        />\n      )}\n    </div>\n  );\n};\n\nexport default memo(PasswordMonkey);\n","import { ChangeEvent } from 'react';\nimport React, {\n  FC, memo, useEffect, useRef, useState,\n} from '../../lib/teact/teact';\n\nimport { MIN_PASSWORD_LENGTH } from '../../config';\nimport { IS_TOUCH_ENV, IS_MOBILE_SCREEN } from '../../util/environment';\nimport buildClassName from '../../util/buildClassName';\nimport useLang from '../../hooks/useLang';\n\nimport Button from '../ui/Button';\n\ntype OwnProps = {\n  submitLabel?: string;\n  error?: string;\n  hint?: string;\n  placeholder?: string;\n  isLoading?: boolean;\n  isPasswordVisible?: boolean;\n  clearError: NoneToVoidFunction;\n  onChangePasswordVisibility: (state: boolean) => void;\n  onInputChange?: (password: string) => void;\n  onSubmit: (password: string) => void;\n};\n\nconst FOCUS_DELAY_TIMEOUT_MS = IS_MOBILE_SCREEN ? 550 : 400;\n\nconst PasswordForm: FC<OwnProps> = ({\n  isLoading = false,\n  isPasswordVisible,\n  error,\n  hint,\n  placeholder = 'Password',\n  submitLabel = 'Next',\n  clearError,\n  onChangePasswordVisibility,\n  onInputChange,\n  onSubmit,\n}) => {\n  // eslint-disable-next-line no-null/no-null\n  const inputRef = useRef<HTMLInputElement>(null);\n  const lang = useLang();\n\n  const [password, setPassword] = useState('');\n  const [canSubmit, setCanSubmit] = useState(false);\n\n  useEffect(() => {\n    if (!IS_TOUCH_ENV) {\n      setTimeout(() => {\n        inputRef.current!.focus();\n      }, FOCUS_DELAY_TIMEOUT_MS);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (error) {\n      requestAnimationFrame(() => {\n        inputRef.current!.focus();\n        inputRef.current!.select();\n      });\n    }\n  }, [error]);\n\n  function onPasswordChange(e: ChangeEvent<HTMLInputElement>) {\n    if (error) {\n      clearError();\n    }\n\n    const { target } = e;\n    setPassword(target.value);\n    setCanSubmit(target.value.length >= MIN_PASSWORD_LENGTH);\n    if (onInputChange) {\n      onInputChange(target.value);\n    }\n  }\n\n  function togglePasswordVisibility() {\n    onChangePasswordVisibility(!isPasswordVisible);\n  }\n\n  function handleSubmit(event: React.FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n\n    if (isLoading) {\n      return;\n    }\n\n    if (canSubmit) {\n      onSubmit(password);\n    }\n  }\n\n  return (\n    <form action=\"\" onSubmit={handleSubmit} autoComplete=\"off\">\n      <div\n        className={buildClassName('input-group password-input', password && 'touched', error && 'error')}\n        dir={lang.isRtl ? 'rtl' : undefined}\n      >\n        <input\n          ref={inputRef}\n          className=\"form-control\"\n          type={isPasswordVisible ? 'text' : 'password'}\n          id=\"sign-in-password\"\n          value={password || ''}\n          autoComplete=\"current-password\"\n          onChange={onPasswordChange}\n          dir=\"auto\"\n        />\n        <label>{error || hint || placeholder}</label>\n        <div\n          className=\"toggle-password\"\n          onClick={togglePasswordVisibility}\n          role=\"button\"\n          tabIndex={0}\n          title=\"Toggle password visibility\"\n        >\n          <i className={isPasswordVisible ? 'icon-eye' : 'icon-eye-closed'} />\n        </div>\n      </div>\n      {canSubmit && (\n        <Button type=\"submit\" ripple isLoading={isLoading}>\n          {submitLabel}\n        </Button>\n      )}\n    </form>\n  );\n};\n\nexport default memo(PasswordForm);\n"],"sourceRoot":""}